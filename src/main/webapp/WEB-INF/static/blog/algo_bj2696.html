<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>thyun.Ahn's blog</title>

<!-- Bootstrap core CSS -->
<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom fonts for this template -->
<link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

<!-- Custom styles for this template -->
<link href="css/clean-blog.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://stackedit.io/style.css">

</head>

<body>

	<!-- Navigation -->
	<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
		<a class="navbar-brand" href="index.html">thyun.ahn</a>
		<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
			Menu <i class="fa fa-bars"></i>
		</button>
		<div class="collapse navbar-collapse" id="navbarResponsive">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
				<!-- <li class="nav-item">
	            <a class="nav-link" href="about.html">About</a>
	          </li>
	          <li class="nav-item">
	            <a class="nav-link" href="post.html">Posts</a>
	          </li>
	          <li class="nav-item">
	            <a class="nav-link" href="contact.html">Contact</a>
	          </li> -->
			</ul>
		</div>
	</nav>

	<!-- Page Header -->
	<header class="masthead" style="background-image: url('img/algorithms.png')">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-md-10 mx-auto">
					<div class="post-heading" style="background-color: #05323A; background-clip: content-box; background-color: rgba(5, 50, 58, 0.95);">
						<h1>Algorithms</h1>
						<h2 class="subheading">성능을 위한 Algorithms</h2>
						<p class="meta">
							<b>Posted by <a href="#">thyun.ahn</a> on November 13, 2018
							</b>
						</p>
					</div>
				</div>
			</div>
		</div>
	</header>

	<!-- Post Content -->
	<article class="stackedit">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-md-10 mx-auto">
					<!-- paste stack-edit -->
					<div class="stackedit__html"><h1 id="중앙값-구하기">중앙값 구하기</h1>
						<h2 id="문제">문제</h2>
						<p><a href="https://www.acmicpc.net/problem/2696">https://www.acmicpc.net/problem/2696</a></p>
						<h2 id="접근법">접근법</h2>
						<p>이 문제는 자료구조 중에서 “우선순위 큐” 를 이용하여 풀었다.</p>
						<p>Java로 예를들면,<br>
						Java에는 PriorityQueue라는 자료구조가 있다.<br>
						보통 Queue는 선입선출(First in First out) 이라 하여 들어온 순서대로 나가기 마련인데 PriorityQueue는 들어온 순서와 상관없이 오름차순으로 출력한다.<br>
						PriorityQueue 사용법은 나중에 정리하겠다. 그전까지는 아래 링크를 참고하자.</p>
						<ul>
						<li>참고 : <a href="http://asuraiv.blogspot.com/2015/11/java-priorityqueue.html">http://asuraiv.blogspot.com/2015/11/java-priorityqueue.html</a></li>
						</ul>
						<p>그렇다면 이 문제에서 PriorityQueue를 어떻게 사용할 것인지?</p>
						<ol>
						<li>“minHeap” 과 “maxHeap” 2개의 PriorityQueue를 선언할 것이다.<br>
						"maxHeap"은 부모노드가 자식노드보다 크다는 점을 고려하여 maxHeap의 첫 index가 제일 큰 수이도록 내림차순으로 선언할 것이다.<br>
						반대로 "minHeap"은 부모노드가 자식노드보다 작다는 점을 고려하여 오름차순으로 선언할 것.</li>
						<li>"maxHeap"을 기준으로 두어, 첫번째 수는 maxHeap으로 add 시킨다. 두번째 수는 maxHeap보다 작으면 maxHeap에 추가하고 반대로 크면 minHeap에 추가한다.</li>
						<li>"maxHeap"과 "minHeap"의 size가 2 이상 차이나면 maxHeap의 size가 1이 더 크거나 같도록 맞춰준다.</li>
						<li>1~3의 과정을 거치면서 홀수번째 일 때마다 maxHeap의 top element를 출력하면 된다.</li>
						</ol>
						<h2 id="풀이">풀이</h2>
						<h3 id="java">java</h3>
<pre class=" language-java"><code class="prism  language-java"><span class="token keyword">package</span> baekjoon<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Collections<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>PriorityQueue<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Scanner<span class="token punctuation">;</span>

<span class="token comment">//findMedian</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BJ_2696</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> PriorityQueue<span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span> maxHeap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span><span class="token punctuation">(</span>Collections<span class="token punctuation">.</span><span class="token function">reverseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> PriorityQueue<span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span> minHeap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> ArrayList<span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span> al <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Integer<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> StringBuilder sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		Scanner sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> inputNums<span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> testCase <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>testCase<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			
			<span class="token keyword">int</span> inputLength <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			inputNums <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span>inputLength<span class="token punctuation">]</span><span class="token punctuation">;</span>
			
			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>inputLength<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				inputNums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>			
			
			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> k<span class="token operator">&lt;</span>inputLength<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>maxHeap<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span> <span class="token operator">||</span> maxHeap<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>inputNums<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
					maxHeap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>inputNums<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>maxHeap<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>inputNums<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
					minHeap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>inputNums<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				
				<span class="token keyword">if</span><span class="token punctuation">(</span>maxHeap<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>minHeap<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					minHeap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>maxHeap<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					maxHeap<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				
				<span class="token keyword">if</span><span class="token punctuation">(</span>maxHeap<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>minHeap<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					maxHeap<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>minHeap<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					minHeap<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				
				<span class="token keyword">if</span><span class="token punctuation">(</span>k<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
					al<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>maxHeap<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>					
			<span class="token punctuation">}</span>
			
			<span class="token comment">//System.out.println(al.size());</span>
			sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>al<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> l<span class="token operator">&lt;</span>al<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> l<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token comment">//System.out.print(rslt+" ");</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>l<span class="token operator">%</span><span class="token number">10</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
					sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>al<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					
			<span class="token punctuation">}</span>
			<span class="token comment">//System.out.println();</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span>testCase<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			al<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			maxHeap<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			minHeap<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			
		<span class="token punctuation">}</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
					<h4 id="참고">참고</h4>
					<p>위와 같이 푼다면 문제의 예시대로 출력은 잘 나오지만, 제출하면 "틀렸습니다."가 나올 것이다. 오늘 하루종일 붙잡은데다가 백준 slack에 질문해서 도와주신분이 계셨는데도 결국 "정답"을 받지는 못하였다…<br>
					뭐가 문제인지는 아직까지  파악하지 못한 상태. 무튼 이 문제에 대한 접근은 위와 같이 하면 된다.</p>
					<h4 id="알아볼-내용">알아볼 내용</h4>
					<p>이 문제는 알고리즘을 구현하는 것보다 다른 부분에서 시간을 많이 잡아먹었다.<br>
					바로 입/출력 부분. 아래 내용들을 필히 다뤄야겠다.</p>
					<ol>
					<li>BufferedReader / Scanner 차이점 및 각 장단점.
					<ul>
					<li>Scanner의 next()(nextInt()) / nextLine() 차이점.</li>
					</ul>
					</li>
					<li>StringBuilder / StringBuffer / String 차이점.</li>
					<li>StringTokenizer</li>
					</ol>
					<h3 id="javascript">javascript</h3>
					<p>to be continued…</p>
					<h3 id="python3">python3</h3>
					<p>to be continued…</p>
					</div>
				</div>
			</div>
		</div>
	</article>

	<hr>

	<!-- Footer -->
	<footer>
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-md-10 mx-auto">
					<ul class="list-inline text-center">
						<li class="list-inline-item"><a href="https://www.facebook.com/taehyun87" class="a_postSNS"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
							</span>
						</a></li>
						<li class="list-inline-item"><a href="https://www.instagram.com/thyun.ahn" class="a_postSNS"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
							</span>
						</a></li>
						<li class="list-inline-item"><a href="https://www.linkedin.com/in/thyun1121/" class="a_postSNS"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
							</span>
						</a></li>

						<li class="list-inline-item"><a href="https://github.com/thyun1121" class="a_postSNS"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i>
							</span>
						</a></li>
					</ul>
					<p class="copyright text-muted">Copyright &copy; thyun.ahn@gmail.com</p>
				</div>
			</div>
		</div>
	</footer>

	<!-- Bootstrap core JavaScript -->
	<script src="vendor/jquery/jquery.min.js"></script>
	<script src="vendor/popper/popper.min.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>

	<!-- Custom scripts for this template -->
	<script src="js/clean-blog.min.js"></script>

</body>

</html>
